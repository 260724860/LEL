webpackJsonp([6],{O6Zm:function(e,t){},"T+/8":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("Xxa5"),r=o.n(n),s=o("exGp"),a=o.n(s),i=o("Dd8w"),l=o.n(i),c=o("mvHQ"),u=o.n(c),p=o("E4LH"),g=o("hNpR"),d=o.n(g),m=o("NYxO"),f={name:"login",data:function(){return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:function(e,t,o){Object(p.c)(t)?o():o(new Error("请输入正确的用户名"))}}],password:[{required:!0,trigger:"blur",validator:function(e,t,o){t.length<3?o(new Error("密码不能小于3位")):o()}}]},loading:!1,pwdType:"password",login_center_bg:d.a,LogoSrc:""}},computed:{checked:{get:function(){return this.$store.getters.isRememberpwd},set:function(e){this.SET_isRememberpwd(e)}}},created:function(){var e=this;localStorage.getItem("suplieName")&&(this.loginForm.username=localStorage.getItem("suplieName")),localStorage.getItem("supliepwd")&&(this.loginForm.password=localStorage.getItem("supliepwd")),sessionStorage.removeItem("regStatus"),this.$request.GetSysConfig().then(function(t){localStorage.setItem("SUPPLYGetlocation",u()(t.content.SupplierDomain.Value)),e.LogoSrc=t.content.HeadQuartersDomain.Value+t.content.Logo.Value})},methods:l()({},Object(m.d)(["SET_isRememberpwd"]),{showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin:function(){var e,t=this;this.$refs.loginForm.validate((e=a()(r.a.mark(function e(o){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=9;break}return t.loading=!0,e.next=4,t.$store.dispatch("Login",t.loginForm);case 4:0==(n=e.sent).code?(t.$Message.success("登陆成功"),t.$router.push({path:"/"})):1==n.code&&t.$Message.error(n.msg),t.loading=!1,e.next=10;break;case 9:t.$Message.error("请填写正确的用户名或密码");case 10:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},handleRegister:function(){sessionStorage.setItem("regStatus",0),this.$router.push({path:"/register"})},handleretrieve:function(){sessionStorage.setItem("regStatus",1),this.$router.push({path:"/register"})}})},h={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",{staticClass:"login-form-layout"},[o("el-form",{ref:"loginForm",attrs:{autocomplete:"on",model:e.loginForm,rules:e.loginRules,"label-position":"left"}},[o("div",{staticStyle:{"text-align":"center"}},[o("img",{staticStyle:{height:"80px"},attrs:{src:e.LogoSrc,alt:""}})]),e._v(" "),o("h2",{staticClass:"login-title color-main"},[e._v("供应商")]),e._v(" "),o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{attrs:{name:"username",type:"text",autocomplete:"on",placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[o("span",{attrs:{slot:"prefix"},slot:"prefix"},[o("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"user"}})],1)])],1),e._v(" "),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{name:"password",type:e.pwdType,autocomplete:"on",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLogin(t):null}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[o("span",{attrs:{slot:"prefix"},slot:"prefix"},[o("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"password"}})],1),e._v(" "),o("span",{attrs:{slot:"suffix"},on:{click:e.showPwd},slot:"suffix"},[o("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"eye"}})],1)])],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-bottom":"60px"}},[o("div",[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")])],1),e._v(" "),o("div",{staticStyle:{"margin-top":"10px"}},[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"info"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e._v("注册")])],1),e._v(" "),o("div",{staticClass:"BothEqual"},[o("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),o("el-button",{attrs:{type:"text"},nativeOn:{click:function(t){return t.preventDefault(),e.handleretrieve(t)}}},[e._v("找回密码")])],1)])],1)],1),e._v(" "),o("img",{staticClass:"login-center-layout",attrs:{src:e.login_center_bg}})],1)},staticRenderFns:[]};var v=o("VU/8")(f,h,!1,function(e){o("O6Zm")},"data-v-0872cda0",null);t.default=v.exports},hNpR:function(e,t,o){e.exports=o.p+"static/img/login_center_bg.5307896.png"}});
//# sourceMappingURL=6.b3155f65f2c228fb9df01560476466300.js.map