webpackJsonp([13],{KR8f:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("xT6B");var s={name:"home",data:function(){return{pickerOptions:{shortcuts:[{text:"昨天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-864e5),t.$emit("pick",[a,e])}},{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}}]},orderCountDate:"",chartSettings:{area:!0,axisSite:{right:["OrderMoney"]},yAxisName:["数量","金额"],labelMap:{OrderCount:"订单数量",OrderMoney:"订单金额",OrderTime:"日期"}},chartData:{columns:["OrderTime","OrderCount","OrderMoney"],rows:[]},ordersReceived:{OrderTolCount:"",OrderTolMoney:""},loading:!1,dataEmpty:!1,SalesDTOList:{},StaticDTO:{},TransDTO:{}}},created:function(){this.initOrderCountDate(),this.SalesDTO(),this.GoodsStaticDTO(),this.PendingTransDTO()},methods:{goOrder:function(t){this.$router.push({path:"oms/orderDelivery",query:{status:t}})},goShop:function(t){var e={path:"pms/product"};(0==t||t)&&(e.query={IsShelves:t}),this.$router.push(e)},SalesDTO:function(){var t=this;this.$request.GetSalesDTO().then(function(e){t.SalesDTOList=e.content})},GoodsStaticDTO:function(){var t=this;this.$request.GetGoodsStaticDTO().then(function(e){t.StaticDTO=e.content})},SalesChartDTO:function(){var t=this;this.$request.GetSalesChartDTO(this.orderCountDate[0],this.orderCountDate[1]).then(function(e){e=e.content,t.$set(t.ordersReceived,"OrderTolCount",e.OrderTolCount),t.$set(t.ordersReceived,"OrderTolMoney",e.OrderTolMoney);var a=e.SalesChartList;if(a){for(var s=0;s<a.length;s++){var i=a[s].OrderTime;i.indexOf("T")>-1&&(a[s].OrderTime=i.split("T")[0])}t.chartData.rows=a}else t.chartData.rows=a})},PendingTransDTO:function(){var t=this;this.$request.GetPendingTransDTO().then(function(e){t.TransDTO=e.content})},handleDateChange:function(t){this.getData()},initOrderCountDate:function(){var t=new Date,e=new Date;t.setTime(t.getTime()-6048e5),this.orderCountDate=[t,e],this.SalesChartDTO(this.orderCountDate[0],this.orderCountDate[1])},getData:function(){var t=this;this.loading=!0,setTimeout(function(){t.chartData.rows=[],t.dataEmpty=!1,t.loading=!1,t.SalesChartDTO(t.orderCountDate[0],t.orderCountDate[1])},1e3)}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"total-layout"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"total-frame"},[a("svg-icon",{staticClass:"total-icon",attrs:{"icon-class":"order"}}),t._v(" "),a("div",[a("div",{staticClass:"total-title"},[t._v("今日已完成订单总数")]),t._v(" "),a("div",{staticClass:"total-value"},[t._v(t._s(t.SalesDTOList.TodaySalesCount))])])],1)]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"total-frame"},[a("svg-icon",{staticClass:"total-icon",attrs:{"icon-class":"total-today"}}),t._v(" "),a("div",[a("div",{staticClass:"total-title"},[t._v("今日完成销售总额")]),t._v(" "),a("div",{staticClass:"total-value"},[t._v("￥"+t._s(t.SalesDTOList.TodaySalesMoney))])])],1)]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"total-frame"},[a("svg-icon",{staticClass:"total-icon",attrs:{"icon-class":"total-yesterday"}}),t._v(" "),a("div",[a("div",{staticClass:"total-title"},[t._v("昨日销售总额")]),t._v(" "),a("div",{staticClass:"total-value"},[t._v("￥"+t._s(t.SalesDTOList.YesterdaySalesMoney))])])],1)]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"total-frame"},[a("svg-icon",{staticClass:"total-icon",attrs:{"icon-class":"total-week"}}),t._v(" "),a("div",[a("div",{staticClass:"total-title"},[t._v("近7天销售总额")]),t._v(" "),a("div",{staticClass:"total-value"},[t._v("￥"+t._s(t.SalesDTOList.SevendaysSalesMoney))])])],1)])],1)],1),t._v(" "),a("div",{staticClass:"statistics-layout"},[a("div",{staticClass:"layout-title"},[t._v("订单统计")]),t._v(" "),a("el-row",[a("el-col",[a("div",{staticStyle:{padding:"10px","border-left":"1px solid #DCDFE6"}},[a("div",{staticClass:"left"},[a("div",{staticClass:"left",staticStyle:{"margin-right":"10px"}},[a("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("订单总数")]),t._v(" "),a("span",{staticStyle:{color:"#606266","font-size":"24px"}},[t._v(t._s(t.ordersReceived.OrderTolCount))])]),t._v(" "),a("div",{staticClass:"left"},[a("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("销售总额")]),t._v(" "),a("span",{staticStyle:{color:"#606266","font-size":"24px"}},[t._v(t._s(t.ordersReceived.OrderTolMoney))])])]),t._v(" "),a("el-date-picker",{staticStyle:{float:"right","z-index":"1"},attrs:{size:"small",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:t.handleDateChange},model:{value:t.orderCountDate,callback:function(e){t.orderCountDate=e},expression:"orderCountDate"}}),t._v(" "),a("div",[a("ve-line",{attrs:{data:t.chartData,"legend-visible":!0,loading:t.loading,"data-empty":t.dataEmpty,settings:t.chartSettings}})],1)],1)])],1)],1),t._v(" "),a("div",{staticClass:"un-handle-layout"},[a("div",{staticClass:"layout-title"},[t._v("待处理事务")]),t._v(" "),a("div",{staticClass:"un-handle-content"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"un-handle-item",on:{click:function(e){t.goOrder(2)}}},[a("span",{staticClass:"font-medium"},[t._v("已完成订单")]),t._v(" "),a("span",{staticClass:"color-danger",staticStyle:{float:"right"}},[t._v("("+t._s(t.TransDTO.CompleteCount)+")")])])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"un-handle-item",on:{click:function(e){t.goOrder(1)}}},[a("span",{staticClass:"font-medium"},[t._v("待接单订单")]),t._v(" "),a("span",{staticClass:"color-danger",staticStyle:{float:"right"}},[t._v("("+t._s(t.TransDTO.WaitingListCount)+")")])])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"un-handle-item",on:{click:function(e){t.goOrder(2)}}},[a("span",{staticClass:"font-medium"},[t._v("已接单订单")]),t._v(" "),a("span",{staticClass:"color-danger",staticStyle:{float:"right"}},[t._v("("+t._s(t.TransDTO.HaveOrderCount)+")")])])])],1)],1)]),t._v(" "),a("div",{staticClass:"overview-layout"},[a("el-row",[a("el-col",[a("div",{staticClass:"out-border"},[a("div",{staticClass:"layout-title"},[t._v("商品总览")]),t._v(" "),a("div",{staticStyle:{padding:"40px"}},[a("el-row",[a("el-col",{staticClass:"color-danger overview-item-value",attrs:{span:8},nativeOn:{click:function(e){t.goShop(0)}}},[t._v(t._s(t.StaticDTO.ShelvesCount))]),t._v(" "),a("el-col",{staticClass:"color-danger overview-item-value",attrs:{span:8},nativeOn:{click:function(e){t.goShop(1)}}},[t._v(t._s(t.StaticDTO.TheShelvesCount))]),t._v(" "),a("el-col",{staticClass:"color-danger overview-item-value",attrs:{span:8},nativeOn:{click:function(e){t.goShop()}}},[t._v(t._s(t.StaticDTO.TotalGoodsCount))])],1),t._v(" "),a("el-row",{staticClass:"font-medium"},[a("el-col",{staticClass:"overview-item-title",attrs:{span:8},nativeOn:{click:function(e){t.goShop(0)}}},[t._v("已下架")]),t._v(" "),a("el-col",{staticClass:"overview-item-title",attrs:{span:8},nativeOn:{click:function(e){t.goShop(1)}}},[t._v("已上架")]),t._v(" "),a("el-col",{staticClass:"overview-item-title",attrs:{span:8},nativeOn:{click:function(e){t.goShop()}}},[t._v("全部商品")])],1)],1)])])],1)],1)])},staticRenderFns:[]};var o=a("VU/8")(s,i,!1,function(t){a("bMfl")},"data-v-6ef937f2",null);e.default=o.exports},bMfl:function(t,e){}});
//# sourceMappingURL=13.0319c898cc0f4a983fc41560476466300.js.map