webpackJsonp([3,15],{"7JNZ":function(e,s){},EIG7:function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=a("Xxa5"),t=a.n(r),o=a("exGp"),i=a.n(o),n=a("Dd8w"),l=a.n(n),u=a("NYxO"),p={name:"check",components:{basic:a("L7zk").default},data:function(){return{dialogImageUrl:"",dialogVisible:!1,allowType:["gif","jpg","bmp","jpeg","png"],UsersImage:null,UsersIDImgA:null,UsersIDImgB:null,UsersIDImgC:null,UsersIDImgD:null,UsersIDImgE:null}},computed:{userInfo:function(){return this.$store.getters.userInfoS},isGetlocation:function(){return this.$store.getters.isGetlocation}},mounted:function(){this.UsersIDImgA=this.userInfo.Suppliers_ImgA,this.UsersIDImgB=this.userInfo.Suppliers_ImgB,this.UsersIDImgC=this.userInfo.Suppliers_ImgC,this.UsersIDImgD=this.userInfo.Suppliers_ImgD,this.UsersIDImgE=this.userInfo.Suppliers_ImgE},methods:l()({},Object(u.d)(["SET_USERINFO"]),{beforeUpload:function(e){var s=!1;this.allowType.forEach(function(a){s=s||e.type==="image/"+a});var a=e.size/1024/1024<2;return s?a||this.$Message.error("上传图片大小不能超过2MB，请重试"):this.$Message.error("只支持gif,jpg,bmp,jpeg,png格式图片，请重试"),s&&a},uploadUsersIDImgA:function(e){var s=this;return i()(t.a.mark(function a(){return t.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.uploadImg(e,"UsersIDImgA");case 2:case"end":return a.stop()}},a,s)}))()},uploadUsersIDImgB:function(e){var s=this;return i()(t.a.mark(function a(){return t.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.uploadImg(e,"UsersIDImgB");case 2:case"end":return a.stop()}},a,s)}))()},uploadUsersIDImgC:function(e){var s=this;return i()(t.a.mark(function a(){return t.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.uploadImg(e,"UsersIDImgC");case 2:case"end":return a.stop()}},a,s)}))()},uploadUsersIDImgD:function(e){var s=this;return i()(t.a.mark(function a(){return t.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.uploadImg(e,"UsersIDImgD");case 2:case"end":return a.stop()}},a,s)}))()},uploadUsersIDImgE:function(e){var s=this;return i()(t.a.mark(function a(){return t.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.uploadImg(e,"UsersIDImgE");case 2:case"end":return a.stop()}},a,s)}))()},uploadImg:function(e,s){var a=this;return i()(t.a.mark(function r(){var o;return t.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.$request.uploadImg(e.file);case 2:(o=r.sent)?(a.$Message.success("上传成功"),a[""+s]=o.content):a.$Message.error("上传失败");case 4:case"end":return r.stop()}},r,a)}))()},submitUpdate:function(){var e=this;return i()(t.a.mark(function s(){var a,r;return t.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return(a=JSON.parse(localStorage.getItem("userInfoS"))).Code="",a.Msg="",a.Suppliers_ImgA=e.UsersIDImgA,a.Suppliers_ImgB=e.UsersIDImgB,a.Suppliers_ImgC=e.UsersIDImgC,a.Suppliers_ImgD=e.UsersIDImgD,a.Suppliers_ImgE=e.UsersIDImgE,s.next=10,e.$request.updateUserInfo(a);case 10:s.sent?(r=a,e.SET_USERINFO(r),e.$Message.success("提交成功,请耐心等待审核通过")):e.$Message.error("提交失败");case 12:case"end":return s.stop()}},s,e)}))()}})},c={render:function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"boxProse"},[a("div",{staticClass:"imgBox"},[a("p",{staticClass:"title"},[e._v("审核资料")]),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,accept:".jpg,.jpeg,.png,.gif,.bmp,.JPG,.JPEG,.PNG,.GIF,.BMP","http-request":e.uploadUsersIDImgA,"before-upload":e.beforeUpload}},[e.UsersIDImgA?a("img",{staticClass:"avatar",attrs:{src:e.isGetlocation+e.UsersIDImgA}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,accept:".jpg,.jpeg,.png,.gif,.bmp,.JPG,.JPEG,.PNG,.GIF,.BMP","http-request":e.uploadUsersIDImgB,"before-upload":e.beforeUpload}},[e.UsersIDImgB?a("img",{staticClass:"avatar",attrs:{src:e.isGetlocation+e.UsersIDImgB}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,accept:".jpg,.jpeg,.png,.gif,.bmp,.JPG,.JPEG,.PNG,.GIF,.BMP","http-request":e.uploadUsersIDImgC,"before-upload":e.beforeUpload}},[e.UsersIDImgC?a("img",{staticClass:"avatar",attrs:{src:e.isGetlocation+e.UsersIDImgC}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,accept:".jpg,.jpeg,.png,.gif,.bmp,.JPG,.JPEG,.PNG,.GIF,.BMP","http-request":e.uploadUsersIDImgD,"before-upload":e.beforeUpload}},[e.UsersIDImgD?a("img",{staticClass:"avatar",attrs:{src:e.isGetlocation+e.UsersIDImgD}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,accept:".jpg,.jpeg,.png,.gif,.bmp,.JPG,.JPEG,.PNG,.GIF,.BMP","http-request":e.uploadUsersIDImgE,"before-upload":e.beforeUpload}},[e.UsersIDImgE?a("img",{staticClass:"avatar",attrs:{src:e.isGetlocation+e.UsersIDImgE}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("div",{staticStyle:{clear:"both"}}),e._v(" "),a("el-button",{staticStyle:{"margin-top":"30px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpdate}},[e._v("提交审核")]),e._v(" "),a("div",[e._v("请注意提交审核资料")]),e._v(" "),a("basic")],1)},staticRenderFns:[]};var m=a("VU/8")(p,c,!1,function(e){a("7JNZ")},"data-v-179268a6",null);s.default=m.exports},L7zk:function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=a("Xxa5"),t=a.n(r),o=a("exGp"),i=a.n(o),n=a("Dd8w"),l=a.n(n),u=a("NYxO"),p=a("E4LH"),c={name:"basic",data:function(){var e=this;return{formData:{shopName:"",ownerName:"",phone:"",address:"",email:"",IDCardNo:"",BusinessNo:""},UsersImage:null,allowType:["gif","jpg","bmp","jpeg","png"],ruleInline:{shopName:[{required:!0,message:"请输入供货店名称",trigger:"blur",validator:p.b}],ownerName:[{required:!0,message:"请输入负责人姓名",trigger:"blur",validator:p.b}],address:[{required:!0,message:"请输入店铺地址",trigger:"blur",validator:p.b}],email:[{validator:p.a,trigger:"blur"}],IDCardNo:[{required:!0,validator:function(e,s,a){/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(s)?a():a("身份证号有误")},trigger:"blur"}],BusinessNo:[{required:!0,message:"请输入营业执照",trigger:"blur"}]},formValidate:{oldPassword:"",password:"",rePassword:""},ruleValidate:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur",validator:p.b},{type:"string",min:6,message:"密码长度不能小于6",trigger:"blur"}],password:[{required:!0,message:"新密码不能为空",trigger:"blur",validator:p.b},{type:"string",min:6,message:"密码长度不能小于6",trigger:"blur"}],rePassword:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{validator:function(s,a,r){a!==e.formValidate.password?r(new Error("两次输入的密码不一样")):r()},trigger:"blur"}]}}},computed:{userInfo:function(){return this.$store.getters.userInfoS},isGetlocation:function(){return this.$store.getters.isGetlocation}},mounted:function(){this.UsersImage=this.userInfo.Suppliers_HeadImage,this.formData.shopName=this.userInfo.Suppliers_Name,this.formData.ownerName=this.userInfo.Suppliers_ResponPeople,this.formData.phone=this.userInfo.Suppliers_MobilePhone,this.formData.address=this.userInfo.Suppliers_Addr,this.formData.email=this.userInfo.Suppliers_Email,this.formData.IDCardNo=this.userInfo.IDCardNo,this.formData.BusinessNo=this.userInfo.BusinessNo},created:function(){},methods:l()({},Object(u.d)(["SET_USERINFO"]),Object(u.b)(["LogOut"]),{beforeUpload:function(e){var s=!1;this.allowType.forEach(function(a){s=s||e.type==="image/"+a});var a=e.size/1024/1024<2;return s?a||this.$Message.error("上传图片大小不能超过2MB，请重试"):this.$Message.error("只支持gif,jpg,bmp,jpeg,png格式图片，请重试"),s&&a},submitUpdate:function(){var e=this;return i()(t.a.mark(function s(){var a,r;return t.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return(a=JSON.parse(localStorage.getItem("userInfoS"))).Suppliers_HeadImage=e.UsersImage,s.next=4,e.$request.updateUserInfo(a);case 4:s.sent?(r=a,e.SET_USERINFO(r),e.$Message.success("提交成功"),e.$router.go()):e.$Message.error("提交失败");case 6:case"end":return s.stop()}},s,e)}))()},submitInfo:function(){var e,s=this;this.$refs.formInfo.validate((e=i()(t.a.mark(function e(a){var r,o,i,n;return t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=18;break}return(r=JSON.parse(localStorage.getItem("userInfoS"))).Code="",r.Msg="",r.Suppliers_HeadImage=s.UsersImage,r.Suppliers_Name=s.formData.shopName,r.Suppliers_ResponPeople=s.formData.ownerName,r.Suppliers_MobilePhone=s.formData.phone,r.Suppliers_Addr=s.formData.address,r.Suppliers_Email=s.formData.email,r.IDCardNo=s.formData.IDCardNo,r.BusinessNo=s.formData.BusinessNo,e.next=14,s.$request.updateUserInfo(r);case 14:(o=e.sent)&&0==o.code?(i=r,s.SET_USERINFO(i),s.$Message.success("修改成功"),n=setTimeout(function(){s.$router.go(),clearTimeout(n)},1e3)):s.$Message.error("修改失败"),e.next=19;break;case 18:s.$Message.error("请填写正确的信息");case 19:case"end":return e.stop()}},e,s)})),function(s){return e.apply(this,arguments)}))},uploadUsersImage:function(e){var s=this;return i()(t.a.mark(function a(){return t.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.uploadImg(e,"UsersImage");case 2:case"end":return a.stop()}},a,s)}))()},submitPwd:function(){var e,s=this;this.$refs.formPwd.validate((e=i()(t.a.mark(function e(a){var r;return t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return r=JSON.parse(localStorage.getItem("userInfoS")),e.next=4,s.$request.updatePwd(r.Suppliers_MobilePhone,s.formValidate.oldPassword,s.formValidate.password);case 4:e.sent?(s.$Message.success("修改成功"),s.LogOut(),s.$router.push({path:"/"})):s.$Message.error("修改失败"),e.next=9;break;case 8:s.$Message.error("请填写正确的信息");case 9:case"end":return e.stop()}},e,s)})),function(s){return e.apply(this,arguments)}))},uploadImg:function(e,s){var a=this;return i()(t.a.mark(function r(){var o;return t.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.$request.uploadImg(e.file);case 2:(o=r.sent)?(a.$Message.success("上传成功"),a[""+s]=o.content):a.$Message.error("上传失败");case 4:case"end":return r.stop()}},r,a)}))()}})},m={render:function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",[a("div",{staticClass:"add-container"},[e._m(0),e._v(" "),a("div",{staticClass:"imgBox"},[a("p",{staticClass:"title"},[e._v("头像")]),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,accept:".jpg,.jpeg,.png,.gif,.bmp,.JPG,.JPEG,.PNG,.GIF,.BMP","http-request":e.uploadUsersImage,"before-upload":e.beforeUpload}},[e.UsersImage?a("img",{staticClass:"avatar",attrs:{src:e.isGetlocation+e.UsersImage}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("div",{staticClass:"add-box"},[a("Form",{ref:"formInfo",attrs:{model:e.formData,"label-position":"left","label-width":100,rules:e.ruleInline}},[a("FormItem",{attrs:{label:"供应商名称",prop:"shopName"}},[a("i-input",{attrs:{size:"large"},model:{value:e.formData.shopName,callback:function(s){e.$set(e.formData,"shopName",s)},expression:"formData.shopName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"负责人",prop:"ownerName"}},[a("i-input",{attrs:{size:"large"},model:{value:e.formData.ownerName,callback:function(s){e.$set(e.formData,"ownerName",s)},expression:"formData.ownerName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"联系电话",prop:"phone"}},[a("span",{staticStyle:{"font-size":"15px"}},[e._v(e._s(e.formData.phone))])]),e._v(" "),a("FormItem",{attrs:{label:"供应商地址",prop:"address"}},[a("i-input",{attrs:{size:"large"},model:{value:e.formData.address,callback:function(s){e.$set(e.formData,"address",s)},expression:"formData.address"}})],1),e._v(" "),a("FormItem",{attrs:{label:"邮箱",prop:"email"}},[a("i-input",{attrs:{size:"large"},model:{value:e.formData.email,callback:function(s){e.$set(e.formData,"email",s)},expression:"formData.email"}})],1),e._v(" "),a("FormItem",{attrs:{label:"身份证号码",prop:"IDCardNo"}},[a("i-input",{attrs:{size:"large"},model:{value:e.formData.IDCardNo,callback:function(s){e.$set(e.formData,"IDCardNo",s)},expression:"formData.IDCardNo"}})],1),e._v(" "),a("FormItem",{attrs:{label:"营业执照号",prop:"BusinessNo"}},[a("i-input",{attrs:{size:"large"},model:{value:e.formData.BusinessNo,callback:function(s){e.$set(e.formData,"BusinessNo",s)},expression:"formData.BusinessNo"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"add-submit"},[a("Button",{attrs:{type:"primary"},on:{click:e.submitInfo}},[e._v("确认修改")])],1)]),e._v(" "),a("div",{staticClass:"add-container"},[e._m(1),e._v(" "),a("div",{staticClass:"add-box"},[a("Form",{ref:"formPwd",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-position":"left","label-width":100}},[a("FormItem",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("i-input",{attrs:{type:"password",clearable:"",size:"large",placeholder:"请输入旧密码"},model:{value:e.formValidate.oldPassword,callback:function(s){e.$set(e.formValidate,"oldPassword",s)},expression:"formValidate.oldPassword"}})],1),e._v(" "),a("FormItem",{attrs:{label:"新密码",prop:"password"}},[a("i-input",{attrs:{type:"password",clearable:"",size:"large",placeholder:"请输入新密码"},model:{value:e.formValidate.password,callback:function(s){e.$set(e.formValidate,"password",s)},expression:"formValidate.password"}})],1),e._v(" "),a("FormItem",{attrs:{label:"确认新密码",prop:"rePassword"}},[a("i-input",{attrs:{type:"password",clearable:"",size:"large",placeholder:"请再次输入新密码"},model:{value:e.formValidate.rePassword,callback:function(s){e.$set(e.formValidate,"rePassword",s)},expression:"formValidate.rePassword"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"add-submit"},[a("Button",{attrs:{type:"primary"},on:{click:e.submitPwd}},[e._v("确认修改")])],1)])])},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"add-title"},[s("h1",[this._v("供货商信息")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"add-title"},[s("h1",[this._v("修改密码")])])}]};var d=a("VU/8")(c,m,!1,function(e){a("R/vo")},"data-v-565bae55",null);s.default=d.exports},"R/vo":function(e,s){}});
//# sourceMappingURL=3.c7d6c9b8a83177e520ec1560476466300.js.map