webpackJsonp([15],{"4nPK":function(e,r){},"68e5":function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=a("Xxa5"),t=a.n(s),o=a("exGp"),l=a.n(o),d=a("Dd8w"),i=a.n(d),n=a("1bjU"),u=a("NYxO"),c={name:"Password",components:{headerNav:n.a},data:function(){var e=this;return{formValidate:{oldPassword:"",password:"",rePassword:""},ruleValidate:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"},{type:"string",min:6,message:"密码长度不能小于6",trigger:"blur"}],password:[{required:!0,message:"新密码不能为空",trigger:"blur"},{type:"string",min:6,message:"密码长度不能小于6",trigger:"blur"}],rePassword:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{validator:function(r,a,s){a!==e.formValidate.password?s(new Error("两次输入的密码不一样")):s()},trigger:"blur"}]}}},methods:i()({},Object(u.c)(["SET_USER_LOGIN_INFO"]),{submitPwd:function(){var e,r=this;this.$refs.formPwd.validate((e=l()(t.a.mark(function e(a){var s;return t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return s=(s=JSON.parse(localStorage.getItem("userInfo"))).content,e.next=5,r.$request.updatePwd(s.userName,r.formValidate.oldPassword,r.formValidate.password);case 5:e.sent?r.$Message.success("修改成功"):r.$Message.error("修改失败"),e.next=10;break;case 9:r.$Message.error("请填写正确的信息");case 10:case"end":return e.stop()}},e,r)})),function(r){return e.apply(this,arguments)}))}})},p={render:function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",[a("headerNav",{attrs:{title:"修改登录密码"}}),e._v(" "),a("div",{staticClass:"add-box"},[a("Form",{ref:"formPwd",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-position":"left","label-width":90}},[a("FormItem",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("i-input",{attrs:{type:"password",clearable:"",size:"large",placeholder:"请输入旧密码"},model:{value:e.formValidate.oldPassword,callback:function(r){e.$set(e.formValidate,"oldPassword",r)},expression:"formValidate.oldPassword"}})],1),e._v(" "),a("FormItem",{attrs:{label:"新密码",prop:"password"}},[a("i-input",{attrs:{type:"password",clearable:"",size:"large",placeholder:"请输入新密码"},model:{value:e.formValidate.password,callback:function(r){e.$set(e.formValidate,"password",r)},expression:"formValidate.password"}})],1),e._v(" "),a("FormItem",{attrs:{label:"确认新密码",prop:"rePassword"}},[a("i-input",{attrs:{type:"password",clearable:"",size:"large",placeholder:"请再次输入新密码"},model:{value:e.formValidate.rePassword,callback:function(r){e.$set(e.formValidate,"rePassword",r)},expression:"formValidate.rePassword"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"add-submit"},[a("Button",{attrs:{type:"primary"},on:{click:e.submitPwd}},[e._v("确认修改")])],1)],1)},staticRenderFns:[]};var m=a("VU/8")(c,p,!1,function(e){a("4nPK")},null,null);r.default=m.exports}});
//# sourceMappingURL=15.860dce8d9c8a42b61358.js.map