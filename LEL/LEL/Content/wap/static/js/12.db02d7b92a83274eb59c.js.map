{"version":3,"sources":["webpack:///src/page/goodsList.vue","webpack:///./src/page/goodsList.vue?7946","webpack:///./src/page/goodsList.vue"],"names":["goodsList","name","components","search","data","isAction","isASC","sortTag","loading","finished","computed","extends_default","Object","vuex_esm","mounted","this","SET_GOODS_ORDER_BY","refreshSearch","methods","orderBy","index","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","sKey","wrap","_context","prev","next","sortKey","stop","onLoad","_this2","_callee2","id","pageLimit","_context2","loadSearchResult","searchKey","searchPage","searchCategory","SET_SEARCH_PAGE","Math","ceil","searchResult","PageCount","concat","GoodsModel","window","scrollTo","page_goodsList","render","_vm","_h","$createElement","_c","_self","attrs","showBackArrow","on","onSearchClick","_v","staticStyle","height","staticClass","_l","item","key","click","$event","class","goods-list-tool-active","_s","length","_m","_e","finished-text","load","model","value","callback","$$v","expression","to","price","SpecialOffer","desc","Describe","title","_f","GoodsName","thumb","Image","slot","margin-right","SalesVolumes","TotalSalesVolumes","staticRenderFns","src","__webpack_require__","width","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.db02d7b92a83274eb59c.js","sourcesContent":["<template>\n\t<div>\n\t\t<search :showBackArrow=\"true\" @onSearchClick=\"refreshSearch\"/>\n\t\t<div style=\"height: 50px;\"></div>\n\n\t\t<div class=\"goods-list-tool\">\n\t\t\t<ul>\n\t\t\t\t<li v-for=\"(item,index) in sortTag\" :key=\"index\" @click=\"orderBy(index)\">\n\t\t\t\t\t<span :class=\"{ 'goods-list-tool-active': isAction[index]}\">{{item}}</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div style=\"height: 38px;\"></div>\n\n\t\t<div v-if=\"finished && goodsList.length === 0\" class=\"product-not-found-container\">\n\t\t\t<div class=\"product-not-found-img\">\n\t\t\t\t<img src=\"../../static/img/goodsList/notfound.png\" width=\"30%\" height=\"30%\">\n\t\t\t</div>\n\t\t\t<div class=\"product-not-found-txt\">未找到相关商品</div>\n\t\t</div>\n\t\t<div class=\"goods\">\n\t\t\t<van-list\n\t\t\t\t\tv-model=\"loading\"\n\t\t\t\t\t:finished=\"finished\"\n\t\t\t\t\tfinished-text=\"\"\n\t\t\t\t\t@load=\"onLoad\"\n\t\t\t>\n\t\t\t\t<router-link v-for=\"(item, index) in goodsList\" :key=\"index\" :to=\"`/goodsDetail?id=${item.GoodsID}`\">\n\t\t\t\t\t<!--:origin-price=\"item.OriginalPrice\"-->\n\t\t\t\t\t<van-card\n\t\t\t\t\t\t\t:price=\"item.SpecialOffer\"\n\t\t\t\t\t\t\t:desc=\"item.Describe\"\n\t\t\t\t\t\t\t:title=\"item.GoodsName | ellipsis(15)\"\n\t\t\t\t\t\t\t:thumb=\"item.Image\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template slot=\"footer\">\n\t\t\t\t\t\t\t<span style=\"margin-right: 20px;\">月售：{{item.SalesVolumes}}</span>\n\t\t\t\t\t\t\t<span>总售：{{item.TotalSalesVolumes}}</span>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</van-card>\n\t\t\t\t</router-link>\n\t\t\t</van-list>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport {mapActions, mapMutations, mapState} from 'vuex';\n\timport search from \"../components/page/search.vue\";\n\n\texport default {\n\t\tname: \"GoodsList\",\n\n\t\tcomponents: {\n\t\t\tsearch,\n\t\t},\n\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisAction: [true, false, false],\n\t\t\t\tisASC: [true, true, true],\n\t\t\t\tsortTag: ['上架时间', '价格', '综合'],\n\n\t\t\t\tloading: false,\n\t\t\t\tfinished: false,\n\t\t\t\tgoodsList: [],\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\t\t\t...mapState(['searchResult', 'searchKey', 'sortKey', 'searchCategory', 'searchPage']),\n\t\t},\n\n\t\tmounted() {\n\t\t\tthis.SET_GOODS_ORDER_BY(1);\n\t\t\tthis.refreshSearch();\n\t\t},\n\n\t\tmethods: {\n\t\t\t...mapActions(['loadSearchResult']),\n\t\t\t...mapMutations(['SET_GOODS_ORDER_BY', 'SET_SEARCH_PAGE']),\n\n\t\t\tasync orderBy(index) {\n\t\t\t\tlet sKey;\n\t\t\t\tif (this.isAction[index]) {\n\t\t\t\t\tsKey = (this.sortKey % 2 > 0) ? this.sortKey + 1 : this.sortKey - 1;\n\t\t\t\t\tthis.isASC[index] = sKey % 2 > 0;\n\t\t\t\t} else {\n\t\t\t\t\tthis.isAction = [false, false, false];\n\t\t\t\t\tthis.isAction[index] = true;\n\t\t\t\t\tsKey = index * 2 + 1;\n\t\t\t\t}\n\t\t\t\tthis.SET_GOODS_ORDER_BY(sKey);\n\t\t\t\tthis.refreshSearch();\n\t\t\t},\n\n\t\t\tasync onLoad() {\n\t\t\t\tawait this.loadSearchResult([this.searchKey, this.searchPage, this.searchCategory]);\n\t\t\t\tlet id = this.searchPage + 1;\n\t\t\t\tthis.SET_SEARCH_PAGE(id);\n\n\t\t\t\tlet pageLimit = Math.ceil(this.searchResult.PageCount / 10);\n\t\t\t\tthis.finished = id >= pageLimit;\n\n\t\t\t\tthis.goodsList = this.goodsList.concat(this.searchResult.GoodsModel);\n\t\t\t\tthis.loading = false;\n\t\t\t},\n\n\t\t\trefreshSearch() {\n\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\tthis.SET_SEARCH_PAGE(0);\n\t\t\t\tthis.goodsList = [];\n\t\t\t\tthis.finished = false;\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<style lang=\"less\">\n\t.goods-list-tool {\n\t\tposition: fixed;\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\theight: 38px;\n\t\tbackground-color: #F1F1F1;\n\t\tz-index: 2;\n\t}\n\n\t.goods-list-tool ul {\n\t\tpadding-left: 15px;\n\t\tlist-style: none;\n\t}\n\n\t.goods-list-tool li {\n\t\tcursor: pointer;\n\t\tfloat: left;\n\t}\n\n\t.goods-list-tool span {\n\t\tpadding: 5px 8px;\n\t\tborder: 1px solid #ccc;\n\t\tborder-left: none;\n\t\tline-height: 36px;\n\t\tbackground-color: #fff;\n\t}\n\n\t.goods-list-tool-active {\n\t\tcolor: #fff;\n\t\tborder-left: 1px solid #ccc;\n\t\tbackground-color: #E4393C !important;\n\t}\n\n\t.goods {\n\t\twidth: 100%;\n\t\tpadding-bottom: 5px;\n\t\toverflow: hidden;\n\t}\n\n\t.van-card:first-child {\n\t\tmargin-top: 10px;\n\t}\n\n\t.van-card__title {\n\t\tfont-size: 14px;\n\t}\n\n\t.product-not-found-container {\n\t\tmargin-top: 40%;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.product-not-found-img {\n\t\tmargin-top: 15px;\n\t\tmargin-bottom: 15px;\n\t\ttext-align: center;\n\t}\n\n\t.product-not-found-txt {\n\t\ttext-align: center;\n\t\tfont-size: 14px;\n\t\tcolor: #8c8c8c;\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/goodsList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('search',{attrs:{\"showBackArrow\":true},on:{\"onSearchClick\":_vm.refreshSearch}}),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"50px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"goods-list-tool\"},[_c('ul',_vm._l((_vm.sortTag),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.orderBy(index)}}},[_c('span',{class:{ 'goods-list-tool-active': _vm.isAction[index]}},[_vm._v(_vm._s(item))])])}),0)]),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"38px\"}}),_vm._v(\" \"),(_vm.finished && _vm.goodsList.length === 0)?_c('div',{staticClass:\"product-not-found-container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"product-not-found-txt\"},[_vm._v(\"未找到相关商品\")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"goods\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.goodsList),function(item,index){return _c('router-link',{key:index,attrs:{\"to\":(\"/goodsDetail?id=\" + (item.GoodsID))}},[_c('van-card',{attrs:{\"price\":item.SpecialOffer,\"desc\":item.Describe,\"title\":_vm._f(\"ellipsis\")(item.GoodsName,15),\"thumb\":item.Image}},[_c('template',{slot:\"footer\"},[_c('span',{staticStyle:{\"margin-right\":\"20px\"}},[_vm._v(\"月售：\"+_vm._s(item.SalesVolumes))]),_vm._v(\" \"),_c('span',[_vm._v(\"总售：\"+_vm._s(item.TotalSalesVolumes))])])],2)],1)}),1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product-not-found-img\"},[_c('img',{attrs:{\"src\":require(\"../../static/img/goodsList/notfound.png\"),\"width\":\"30%\",\"height\":\"30%\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-558bdb77\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\",\"audio\":\"src\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/goodsList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-558bdb77\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./goodsList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./goodsList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./goodsList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-558bdb77\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\",\\\"audio\\\":\\\"src\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./goodsList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/goodsList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}