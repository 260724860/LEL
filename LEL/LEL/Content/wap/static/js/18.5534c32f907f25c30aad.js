webpackJsonp([18],{"5beq":function(e,a){},q9zS:function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=r("Xxa5"),s=r.n(t),o=r("mvHQ"),n=r.n(o),m=r("exGp"),i=r.n(m),u=r("Dd8w"),c=r.n(u),l=r("1bjU"),f=r("NYxO"),d={name:"BasicInfo",components:{headerNav:l.a},data:function(){return{formData:{shopName:"",ownerName:"",phone:"",address:"",CarNumber:""},ruleInline:{shopName:[{required:!0,message:"请输入店铺名称",trigger:"blur"}],ownerName:[{required:!0,message:"请输入负责人姓名",trigger:"blur"}],address:[{required:!0,message:"请输入店铺地址",trigger:"blur"}],phone:[{required:!0,message:"手机号不能为空",trigger:"blur"},{type:"string",pattern:/^1[3|4|5|7|8|9][0-9]{9}$/,message:"手机号格式出错",trigger:"blur"}],CarNumber:[{required:!1}]}}},computed:c()({},Object(f.d)(["userInfo"])),mounted:function(){this.formData.shopName=this.userInfo.accattach.NickName,this.formData.ownerName=this.userInfo.accattach.TrueName,this.formData.phone=this.userInfo.accattach.Mobile,this.formData.address=this.userInfo.accattach.Address,this.formData.CarNumber=this.userInfo.accattach.CarNumber},methods:c()({},Object(f.c)(["SET_USER_LOGIN_INFO"]),{submitInfo:function(){var e,a=this;this.$refs.formInfo.validate((e=i()(s.a.mark(function e(r){var t,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=16;break}return(t=(t=JSON.parse(localStorage.getItem("userInfo"))).accattach).Code="",t.Msg="",t.NickName=a.formData.shopName,t.TrueName=a.formData.ownerName,t.Mobile=a.formData.phone,t.Address=a.formData.address,t.CarNumber=a.formData.CarNumber,e.next=12,a.$request.updateUserInfo(t);case 12:e.sent?((o=a.userInfo).accattach=t,a.SET_USER_LOGIN_INFO(o),localStorage.setItem("userInfo",n()(o)),a.$Message.success("修改成功")):a.$Message.error("修改失败"),e.next=17;break;case 16:a.$Message.error("请填写正确的信息");case 17:case"end":return e.stop()}},e,a)})),function(a){return e.apply(this,arguments)}))}})},p={render:function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",[r("headerNav",{attrs:{title:"修改基本信息"}}),e._v(" "),r("div",{staticClass:"add-box"},[r("Form",{ref:"formInfo",attrs:{model:e.formData,"label-position":"left","label-width":70,rules:e.ruleInline}},[r("FormItem",{attrs:{label:"店铺名称",prop:"shopName"}},[r("i-input",{attrs:{size:"large"},model:{value:e.formData.shopName,callback:function(a){e.$set(e.formData,"shopName",a)},expression:"formData.shopName"}})],1),e._v(" "),r("FormItem",{attrs:{label:"负责人",prop:"ownerName"}},[r("i-input",{attrs:{size:"large"},model:{value:e.formData.ownerName,callback:function(a){e.$set(e.formData,"ownerName",a)},expression:"formData.ownerName"}})],1),e._v(" "),r("FormItem",{attrs:{label:"联系电话",prop:"phone"}},[r("i-input",{attrs:{size:"large"},model:{value:e.formData.phone,callback:function(a){e.$set(e.formData,"phone",a)},expression:"formData.phone"}})],1),e._v(" "),r("FormItem",{attrs:{label:"店铺地址",prop:"address"}},[r("i-input",{attrs:{size:"large"},model:{value:e.formData.address,callback:function(a){e.$set(e.formData,"address",a)},expression:"formData.address"}})],1),e._v(" "),r("FormItem",{attrs:{label:"取货车牌",prop:"CarNumber"}},[r("i-input",{attrs:{size:"large"},model:{value:e.formData.CarNumber,callback:function(a){e.$set(e.formData,"CarNumber",a)},expression:"formData.CarNumber"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"add-submit"},[r("Button",{attrs:{type:"primary"},on:{click:e.submitInfo}},[e._v("确认修改")])],1)],1)},staticRenderFns:[]};var b=r("VU/8")(d,p,!1,function(e){r("5beq")},null,null);a.default=b.exports}});
//# sourceMappingURL=18.5534c32f907f25c30aad.js.map