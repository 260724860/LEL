webpackJsonp([12],{"5Oe1":function(t,e){},qi4C:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("Xxa5"),i=s.n(o),n=s("exGp"),a=s.n(n),r=s("Dd8w"),c=s.n(r),d=s("NYxO"),l={name:"GoodsList",components:{search:s("l01t").a},data:function(){return{isAction:[!0,!1,!1],isASC:[!0,!0,!0],sortTag:["上架时间","价格","综合"],loading:!1,finished:!1,goodsList:[]}},computed:c()({},Object(d.d)(["searchResult","searchKey","sortKey","searchCategory","searchPage"])),mounted:function(){this.SET_GOODS_ORDER_BY(1),this.refreshSearch()},methods:c()({},Object(d.b)(["loadSearchResult"]),Object(d.c)(["SET_GOODS_ORDER_BY","SET_SEARCH_PAGE"]),{orderBy:function(t){var e=this;return a()(i.a.mark(function s(){var o;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:o=void 0,e.isAction[t]?(o=e.sortKey%2>0?e.sortKey+1:e.sortKey-1,e.isASC[t]=o%2>0):(e.isAction=[!1,!1,!1],e.isAction[t]=!0,o=2*t+1),e.SET_GOODS_ORDER_BY(o),e.refreshSearch();case 4:case"end":return s.stop()}},s,e)}))()},onLoad:function(){var t=this;return a()(i.a.mark(function e(){var s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadSearchResult([t.searchKey,t.searchPage,t.searchCategory]);case 2:s=t.searchPage+1,t.SET_SEARCH_PAGE(s),o=Math.ceil(t.searchResult.PageCount/10),t.finished=s>=o,t.goodsList=t.goodsList.concat(t.searchResult.GoodsModel),t.loading=!1;case 8:case"end":return e.stop()}},e,t)}))()},refreshSearch:function(){window.scrollTo(0,0),this.SET_SEARCH_PAGE(0),this.goodsList=[],this.finished=!1}})},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("search",{attrs:{showBackArrow:!0},on:{onSearchClick:t.refreshSearch}}),t._v(" "),s("div",{staticStyle:{height:"50px"}}),t._v(" "),s("div",{staticClass:"goods-list-tool"},[s("ul",t._l(t.sortTag,function(e,o){return s("li",{key:o,on:{click:function(e){return t.orderBy(o)}}},[s("span",{class:{"goods-list-tool-active":t.isAction[o]}},[t._v(t._s(e))])])}),0)]),t._v(" "),s("div",{staticStyle:{height:"38px"}}),t._v(" "),t.finished&&0===t.goodsList.length?s("div",{staticClass:"product-not-found-container"},[t._m(0),t._v(" "),s("div",{staticClass:"product-not-found-txt"},[t._v("未找到相关商品")])]):t._e(),t._v(" "),s("div",{staticClass:"goods"},[s("van-list",{attrs:{finished:t.finished,"finished-text":""},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.goodsList,function(e,o){return s("router-link",{key:o,attrs:{to:"/goodsDetail?id="+e.GoodsID}},[s("van-card",{attrs:{price:e.SpecialOffer,desc:e.Describe,title:t._f("ellipsis")(e.GoodsName,15),thumb:e.Image}},[s("template",{slot:"footer"},[s("span",{staticStyle:{"margin-right":"20px"}},[t._v("月售："+t._s(e.SalesVolumes))]),t._v(" "),s("span",[t._v("总售："+t._s(e.TotalSalesVolumes))])])],2)],1)}),1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"product-not-found-img"},[e("img",{attrs:{src:s("nJow"),width:"30%",height:"30%"}})])}]};var h=s("VU/8")(l,u,!1,function(t){s("5Oe1")},null,null);e.default=h.exports}});
//# sourceMappingURL=12.db02d7b92a83274eb59c.js.map