{"version":3,"sources":["webpack:///src/page/user/order/list.vue","webpack:///./src/page/user/order/list.vue?cff8","webpack:///./src/page/user/order/list.vue"],"names":["list","name","components","headerNav","nav","data","canCancel","orderList","orderType","pageID","loading","finished","computed","extends_default","Object","vuex_esm","mounted","this","parseInt","$route","query","type","methods","onCancelClick","index","_this","es","confirm","title","message","then","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$request","cancelOrder","Out_Trade_No","sent","window","scrollTo","$Message","success","stop","catch","info","onLoad","_this2","_callee2","pageLimit","_context2","loadOrderResult","userInfo","accattach","UserID","Math","ceil","orderResult","concat","content","order_list","render","_vm","_h","$createElement","_c","_self","staticStyle","background","attrs","_v","length","staticClass","_m","_e","finished-text","on","load","model","value","callback","$$v","expression","_l","item","key","status","OrderType","slot","to","font-size","margin-top","_s","color","CreateTime","font-weight","Money","size","click","$event","staticRenderFns","src","__webpack_require__","width","height","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.941039a54f4e9d71faf1.js","sourcesContent":["<template>\n\t<div style=\" background: #ffffff;\">\n\t\t<headerNav :title=\"`${orderType}订单列表`\"/>\n\n\t\t<div v-if=\"orderList.length === 0\" class=\"product-not-found-container\">\n\t\t\t<div class=\"product-not-found-img\">\n\t\t\t\t<img src=\"../../../../static/img/goodsList/notfound.png\" width=\"30%\" height=\"30%\">\n\t\t\t</div>\n\t\t\t<div class=\"product-not-found-txt\">未查询到相关订单</div>\n\t\t</div>\n\n\t\t<van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"\" @load=\"onLoad\">\n\t\t\t<div v-for=\"(item, index) in orderList\" :key=\"index\">\n\t\t\t\t<van-cell-group class=\"order-item\">\n\t\t\t\t\t<van-panel :title=\"item.Out_Trade_No\" :status=\"item.OrderType\">\n\t\t\t\t\t\t<van-card style=\"background:#fff\">\n\t\t\t\t\t\t\t<template slot=\"thumb\"></template>\n\n\t\t\t\t\t\t\t<template slot=\"title\">\n\t\t\t\t\t\t\t\t<router-link :to=\"'/orderDetail?index=' + index\">\n\t\t\t\t\t\t\t\t\t<p style=\"font-size: 16px; margin-top: 10px;\">\n\t\t\t\t\t\t\t\t\t\t<span>{{item.title}}</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t\t<template slot=\"desc\">\n\t\t\t\t\t\t\t\t<router-link :to=\"'/orderDetail?index=' + index\">\n\t\t\t\t\t\t\t\t\t<p style=\"font-size: 12px; color: #7c7c7c; margin-top: 10px;\">\n\t\t\t\t\t\t\t\t\t\t<span>{{item.CreateTime}}</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t\t<template slot=\"footer\">\n\t\t\t\t\t\t\t\t<span style=\"color: red; font-size: 14px; font-weight: bold\">总价：￥{{item.Money}}</span>\n\t\t\t\t\t\t\t\t<van-button v-if=\"canCancel\" size=\"small\" type=\"danger\" @click=\"onCancelClick(index)\">取消\n\t\t\t\t\t\t\t\t</van-button>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</van-card>\n\t\t\t\t\t</van-panel>\n\t\t\t\t</van-cell-group>\n\t\t\t</div>\n\t\t</van-list>\n\t</div>\n</template>\n\n<script>\n\timport {Dialog} from 'vant';\n\n\timport headerNav from '../../../components/header/nav'\n\timport {mapState, mapActions} from 'vuex';\n\n\texport default {\n\t\tname: 'OrderList',\n\n\t\tcomponents: {\n\t\t\theaderNav\n\t\t},\n\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcanCancel: false,\n\t\t\t\torderList: [],\n\t\t\t\torderType: '',\n\n\t\t\t\tpageID: 0,\n\t\t\t\tloading: false,\n\t\t\t\tfinished: false,\n\t\t\t}\n\t\t},\n\n\t\tcomputed: {\n\t\t\t...mapState(['orderResult', 'userInfo']),\n\t\t},\n\n\t\tmounted() {\n\t\t\tthis.canCancel = parseInt(this.$route.query.type) === 0;\n\n\t\t\tswitch (parseInt(this.$route.query.type)) {\n\t\t\t\tcase 0:\n\t\t\t\t\tthis.orderType = '未处理';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tthis.orderType = '已完成';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.orderType = '已处理';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.orderType = '待接单';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tthis.orderType = '已接单';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tthis.orderType = '已取消';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\tmethods: {\n\t\t\t...mapActions(['loadOrderResult']),\n\n\t\t\tonCancelClick(index) {\n\t\t\t\tDialog.confirm({\n\t\t\t\t\ttitle: '订单',\n\t\t\t\t\tmessage: '确定取消这个订单？'\n\t\t\t\t}).then(async () => {\n\t\t\t\t\tlet res = await this.$request.cancelOrder(this.orderList[index].Out_Trade_No);\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tthis.pageID = 0;\n\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\tthis.orderList = [];\n\t\t\t\t\t\tthis.finished = false;\n\t\t\t\t\t\tthis.$Message.success('取消订单成功');\n\t\t\t\t\t}\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.$Message.info('订单未取消');\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tasync onLoad() {\n\t\t\t\tawait this.loadOrderResult([this.pageID, this.$route.query.type, this.userInfo.accattach.UserID]);\n\t\t\t\tthis.pageID++;\n\n\t\t\t\tlet pageLimit = Math.ceil(this.orderResult.accattach / 10);\n\t\t\t\tthis.finished = this.pageID >= pageLimit;\n\n\t\t\t\tthis.orderList = this.orderList.concat(this.orderResult.content);\n\t\t\t\tthis.loading = false;\n\t\t\t},\n\t\t},\n\t}\n</script>\n\n<style lang=\"less\">\n\t.order-item {\n\t\tmargin-bottom: 10px;\n\t\tfont-size: 12px;\n\t\t.title {\n\t\t\tborder-bottom: 1px solid #e5e5e5;\n\n\t\t\t.van-cell__title {\n\t\t\t\tflex: 2;\n\t\t\t}\n\t\t\t.van-cell__value {\n\t\t\t\tcolor: red;\n\t\t\t}\n\t\t}\n\n\t\t.van-panel__footer {\n\t\t\ttext-align: right;\n\t\t\tborder-bottom: 1px solid #e5e5e5;\n\t\t}\n\t\t.van-button {\n\t\t\tmargin-left: 5px;\n\t\t}\n\t\t.total {\n\t\t\tposition: absolute;\n\t\t\ttop: 17px;\n\t\t\tleft: 15px;\n\t\t\tfont-size: 13px;\n\t\t}\n\t\t.more {\n\t\t\toverflow-x: scroll;\n\t\t\twhite-space: nowrap;\n\t\t\t-webkit-overflow-scrolling: touch;\n\t\t\tmargin: 5px 0 5px 15px;\n\t\t\t.item {\n\t\t\t\twidth: 90px;\n\t\t\t\theight: 90px;\n\t\t\t\tmargin-right: 10px;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\timg {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t.product-not-found-container {\n\t\tmargin-top: 40%;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.product-not-found-img {\n\t\tmargin-top: 15px;\n\t\tmargin-bottom: 15px;\n\t\ttext-align: center;\n\t}\n\n\t.product-not-found-txt {\n\t\ttext-align: center;\n\t\tfont-size: 14px;\n\t\tcolor: #8c8c8c;\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/user/order/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"background\":\"#ffffff\"}},[_c('headerNav',{attrs:{\"title\":(_vm.orderType + \"订单列表\")}}),_vm._v(\" \"),(_vm.orderList.length === 0)?_c('div',{staticClass:\"product-not-found-container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"product-not-found-txt\"},[_vm._v(\"未查询到相关订单\")])]):_vm._e(),_vm._v(\" \"),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.orderList),function(item,index){return _c('div',{key:index},[_c('van-cell-group',{staticClass:\"order-item\"},[_c('van-panel',{attrs:{\"title\":item.Out_Trade_No,\"status\":item.OrderType}},[_c('van-card',{staticStyle:{\"background\":\"#fff\"}},[_c('template',{slot:\"thumb\"}),_vm._v(\" \"),_c('template',{slot:\"title\"},[_c('router-link',{attrs:{\"to\":'/orderDetail?index=' + index}},[_c('p',{staticStyle:{\"font-size\":\"16px\",\"margin-top\":\"10px\"}},[_c('span',[_vm._v(_vm._s(item.title))])])])],1),_vm._v(\" \"),_c('template',{slot:\"desc\"},[_c('router-link',{attrs:{\"to\":'/orderDetail?index=' + index}},[_c('p',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#7c7c7c\",\"margin-top\":\"10px\"}},[_c('span',[_vm._v(_vm._s(item.CreateTime))])])])],1),_vm._v(\" \"),_c('template',{slot:\"footer\"},[_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"14px\",\"font-weight\":\"bold\"}},[_vm._v(\"总价：￥\"+_vm._s(item.Money))]),_vm._v(\" \"),(_vm.canCancel)?_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.onCancelClick(index)}}},[_vm._v(\"取消\\n\\t\\t\\t\\t\\t\\t\\t\")]):_vm._e()],1)],2)],1)],1)],1)}),0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product-not-found-img\"},[_c('img',{attrs:{\"src\":require(\"../../../../static/img/goodsList/notfound.png\"),\"width\":\"30%\",\"height\":\"30%\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62fc122a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\",\"audio\":\"src\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/user/order/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62fc122a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62fc122a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\",\\\"audio\\\":\\\"src\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/user/order/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}